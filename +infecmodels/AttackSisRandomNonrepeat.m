% PURPOSE OF THIS FUNCTION

function network_k1_infected = AttackSisRandomNonrepeat(network, param)

% Initialize new matrix
network_k1_infected = network;

% Get Vector of Random Devices
addressRandom = simultools.GetReceiverGlobalRandomVector(param);

% Get Vector of Infected Devices
[~, numberInfected] = simultools.GetSenderGlobalInfectedVector(network, 'SIS');

infectedSIS = 0;
infectedSIQ = 0;

for sender_add=1:numberInfected
    
    receiver_add = addressRandom(sender_add);
    
        
    switch param.malware
        case 'SIS'
            if rand(1) <= param.alpha
                if network_k1_infected(3, receiver_add) == 0
                    infectedSIS = infectedSIS + 1;
                end
                network_k1_infected(3, receiver_add) = 1;
            end
        case 'SIQ'
            if rand(1) <= param.alpha
                if network_k1_infected(4, receiver_add) == 0
                    infectedSIQ = infectedSIQ + 1;
                end
            end
            network_k1_infected(4, receiver_add) = 1;
    end

    
end
    
% infectedSIS
% infectedSIQ

end