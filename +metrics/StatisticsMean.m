for i=1:1001
    for j=2:8
    mean_report(i,j) = mean(report(i,j,1:param.max_stats));
    end
end
mean_report(:,1) = 0:1000;
mean_report(:,2:8) = mean_report(:,2:8)/(param.n*0.01);


switch param.malware

    case 'SIS'
        maxturns = 500;
        figure(21);
        % figure
        plot(mean_report(1:maxturns,1),mean_report(1:maxturns,3), 'LineWidth', 2);
        hold on
%         plot(mean_report(1:maxturns,1),mean_report(1:maxturns,6), 'LineWidth', 2);
        plot(mean_report(1:maxturns,1),mean_report(1:maxturns,8), 'LineWidth', 2);
        hold off
        legend('MSM infected','Resetting', 'Location', 'North');
        axis([0 maxturns 0 1]);
        % title('State of ACM Infection of Devices');
        xlabel('Time(turns)');
        ylabel('Percentage of Subnetworks');
        print('-djpeg90','-r300',strcat('MSMsubnets_',num2str(param.depth)));
        
    case 'SIQ'
        maxturns = 150;
        figure(11);
        % figure
        plot(mean_report(1:maxturns,1),mean_report(1:maxturns,4), 'LineWidth', 2);
        hold on
        plot(mean_report(1:maxturns,1),mean_report(1:maxturns,5), '--', 'LineWidth', 2);
%         plot(mean_report(1:maxturns,1),mean_report(1:maxturns,6), 'LineWidth', 2);
        plot(mean_report(1:maxturns,1),mean_report(1:maxturns,7), '--', 'LineWidth', 2);
        hold off
        legend('ACM infected','Neutralized','Shutdown', 'Location', 'North');
        axis([0 maxturns 0 20]);
        % title('State of ACM Infection of Devices');
        xlabel('Time(turns)');
        ylabel('Percentage of Subnetworks');
        print('-djpeg90','-r300',strcat('ACMsubnets_',num2str(param.depth)));
        

        
end
