function network = MergeTransitionsSis(network, network_k1, network_k2, malware)

% Finding index of NEW infections

% Final "network" matrix starts as a copy of network_k2, since it is an
% output of transition from infected to susceptible and is the last step

% network = network_k2;

switch malware
    
    case 'SIS'
        infectionIndexesSIS = find((network_k1(3,:)-network(3,:))==1);

        % Then we update network with new infections from network_k1
        for i=1:length(infectionIndexesSIS)
            network_k2(3,infectionIndexesSIS(i)) = 1;
        end
        
        
    case 'SIQ'
        infectionIndexesSIQ = find((network_k1(4,:)-network(4,:))==1);

        for i=1:length(infectionIndexesSIQ)
            network_k2(4,infectionIndexesSIQ(i)) = 1;
        end
        
end

network = network_k2;

end