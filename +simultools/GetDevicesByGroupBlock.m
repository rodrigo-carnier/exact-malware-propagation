function devicesByGroup = GetDevicesByGroupBlock(thisAdd, param)
if param.G == 0
    devicesByGroup = thisAdd;
    
else
    
    devicesByGroup = [thisAdd-2^(param.G-1):thisAdd+2^(param.G+1)]';
    
%     if param.G == 1
%         devicesByGroup = zeros(3, 2);
%     else
%         devicesByGroup = zeros(2^param.G, param.G+1);
%     end
%     devicesByGroup(1,1) = thisAdd;

%     devicesCurrentAdd = nonzeros(tree(2:4,thisAdd));
%     devicesByGroup(1:size(devicesCurrentAdd,1),2) = nonzeros(tree(2:4,thisAdd));
% 
%     if param.G>1
%         for i=2+1:param.G+1
%             lastAdd = nonzeros(devicesByGroup(:,i-2));
%             for j=1:length(nonzeros(devicesByGroup(:,i-1)))
%                 currentAdd = devicesByGroup(j,i-1);
%                 devicesCurrentAdd = nonzeros(tree(2:4,currentAdd));
%                 devicesCurrentAdd = setdiff(devicesCurrentAdd, lastAdd, 'stable');
%                 if ~isempty(devicesCurrentAdd)
%                     rows = size(nonzeros(devicesByGroup(:,i)),1);
%                     devicesByGroup(rows+1:rows+size(devicesCurrentAdd,1),i) = devicesCurrentAdd;
%                 end
%             end
%         end
%     end
    
end

end