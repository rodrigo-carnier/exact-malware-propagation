function [network, cleaned] = CleanSeirsGlobal(network, param)

% (3,i) State of device. S: 1    E: 10    I: 100    R: 1000    D: 10000
% (4,i) Infection Delay. A countdown for every device that moved from S to E.
% (5,i) Recovery Delay. A countdown for every device that moved from I to R.

cleaned = 0;

[addressInfected, numberInfected] = simultools.GetInfectedGlobalVector(network, 'SEIRS');

for dev_add=1:numberInfected

    if rand(1)<=param.beta
        cleaned = cleaned + 1;
        if (param.tau~=0)
            network(3,addressInfected(dev_add))=1000;
            network(5,addressInfected(dev_add)) = param.tau;                   
        elseif (param.tau==0)
            network(3,addressInfected(dev_add))=1;
        end
        
    end

end

%         numberInfected
%         cleaned
   
end