function [network, report_MSM_infec, report_ACM_infec] = CleanSisPercentage(network, param)

report_MSM_infec = [];
report_ACM_infec = [];


% given an address 133.0.0.155
% given an LRD of /28

% range is 32-28 = 4  ---> 2^4 = 16 ---> 133.0.0.155-15 ~ 133.0.0.155+14


for dev_add=1:param.n
    
        if network(3, dev_add) == 1
                report_MSM_infec = [report_MSM_infec; dev_add];
        end
        detected_number = round(param.beta*length(report_MSM_infec));
        if detected_number>0
            
            detected_index = randperm(length(report_MSM_infec), detected_number);
            detected_add = report_MSM_infec(detected_index);

            for j=1:size(detected_add,1)
                network(2,detected_add(j)) = -1;
                network(3,detected_add(j)) = 0;
            end
        end
        
        if network(4, dev_add) == 1
            
            if rand(1)<=param.beta
                report_ACM_infec = [report_ACM_infec; dev_add];
                devicesByGroup = GetDevicesByDepthBlock(dev_add, param.G);
                vectorOfDevices = nonzeros(devicesByGroup);

                for j=1:size(vectorOfDevices,1)
                    network(2,vectorOfDevices(j)) = 0;
                    network(3,vectorOfDevices(j)) = 0;
                end

            end
            
        end
        
end