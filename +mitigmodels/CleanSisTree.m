function [network, report_RAM_infec, report_ROM_infec] = CleanSisTree(network, tree, param)

report_RAM_infec = [];
report_ROM_infec = [];

for dev_add=1:param.n
    
        if network(3, dev_add) == 1
            
            if rand(1)<=param.beta
                report_RAM_infec = [report_RAM_infec; dev_add];
                devicesByGroup = GetDevicesByGroup(tree, dev_add, param.G);
                vectorOfDevices = nonzeros(devicesByGroup);

                for j=1:size(vectorOfDevices,1)
                    network(2,vectorOfDevices(j)) = -1;
                    network(3,vectorOfDevices(j)) = 0;
                end

            end
            
        end
        
        if network(4, dev_add) == 1
            
            if rand(1)<=param.beta
                report_ROM_infec = [report_ROM_infec; dev_add];
                devicesByGroup = GetDevicesByGroup(tree, dev_add, param.G);
                vectorOfDevices = nonzeros(devicesByGroup);

                for j=1:size(vectorOfDevices,1)
                    network(2,vectorOfDevices(j)) = 0;
                    network(3,vectorOfDevices(j)) = 0;
                end

            end
            
        end
        
end